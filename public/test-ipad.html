<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TimeWash iPad</title>
    <style>
        body { background: #d4f1f9; font-family: sans-serif; text-align: center; margin: 0; overflow: hidden; color: #1a4a5c; }
        #circle { 
            width: 300px; height: 300px; border-radius: 50%; 
            border: 15px solid #1a4a5c; margin: 50px auto;
            display: flex; flex-direction: column; justify-content: center;
            background: white; transition: all 0.5s;
        }
        #timer { font-size: 60px; font-weight: bold; margin: 0; }
        #step-name { font-size: 24px; text-transform: uppercase; margin-top: 10px; }
        #status { font-size: 14px; opacity: 0.6; position: fixed; bottom: 10px; width: 100%; }
        .running { border-color: #4ade80 !important; }
        .paused { border-color: #fbbf24 !important; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }
    </style>
</head>
<body>
    <div id="circle">
        <p id="timer">--:--</p>
        <p id="step-name">Attente...</p>
    </div>
    <h1 id="session-display">Code : ----</h1>
    <div id="status">Connexion au serveur...</div>

    <script>
        // On va demander le code de session à l'utilisateur
        var sessionCode = prompt("Entre le code affiché sur ton téléphone :");
        document.getElementById('session-display').innerHTML = "Session : " + sessionCode;

        // Ici, on va ajouter la logique pour lire Supabase 
        // toutes les secondes sans utiliser React.
        function updateFromDatabase() {
            // NOTE : Je vais te donner le script de connexion Supabase 
            // juste après dès que tu auras validé cette étape.
            document.getElementById('status').innerHTML = "Connecté - Sync à " + new Date().toLocaleTimeString();
        }

        setInterval(updateFromDatabase, 1000);
    </script>
</body>
</html>